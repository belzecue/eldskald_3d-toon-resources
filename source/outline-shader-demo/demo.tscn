[gd_scene load_steps=11 format=2]

[ext_resource path="res://player.tscn" type="PackedScene" id=1]
[ext_resource path="res://assets/meshes/icosahedron.obj" type="ArrayMesh" id=2]
[ext_resource path="res://rotate.gd" type="Script" id=3]
[ext_resource path="res://outline-shader-demo/normals.tres" type="Material" id=4]
[ext_resource path="res://assets/meshes/ground.obj" type="ArrayMesh" id=5]
[ext_resource path="res://outline-shader-demo/outline-post-processing.shader" type="Shader" id=6]

[sub_resource type="QuadMesh" id=1]
size = Vector2( 2, 2 )

[sub_resource type="ShaderMaterial" id=2]
shader = ExtResource( 6 )
shader_param/outline_color = Color( 1, 1, 1, 1 )
shader_param/outline_thickness = 1
shader_param/distance_sensitivity = 5.0
shader_param/normals_sensitivity = 25.0

[sub_resource type="CubeMesh" id=3]
size = Vector3( 1, 1, 1 )

[sub_resource type="SphereMesh" id=4]

[node name="Demo" type="Spatial"]

[node name="2DPostProcessing" type="ViewportContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
stretch = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Viewport" type="Viewport" parent="2DPostProcessing"]
size = Vector2( 1024, 576 )
handle_input_locally = false
keep_3d_linear = true
render_target_update_mode = 3

[node name="OutlinePP" type="MeshInstance" parent="2DPostProcessing/Viewport"]
extra_cull_margin = 16384.0
mesh = SubResource( 1 )
material/0 = SubResource( 2 )

[node name="Player" parent="2DPostProcessing/Viewport" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5 )

[node name="Ground" type="MeshInstance" parent="2DPostProcessing/Viewport"]
mesh = ExtResource( 5 )
material/0 = ExtResource( 4 )

[node name="Icosahedron" type="MeshInstance" parent="2DPostProcessing/Viewport"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.24809, 0 )
mesh = ExtResource( 2 )
material/0 = ExtResource( 4 )
script = ExtResource( 3 )

[node name="Cube" type="MeshInstance" parent="2DPostProcessing/Viewport"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.65501, 1.00844, 1.47833 )
mesh = SubResource( 3 )
material/0 = ExtResource( 4 )

[node name="Cube2" type="MeshInstance" parent="2DPostProcessing/Viewport"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.724182, 1.28083, 2.71906 )
mesh = SubResource( 3 )
material/0 = ExtResource( 4 )

[node name="Sphere" type="MeshInstance" parent="2DPostProcessing/Viewport"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1.27206, 1 )
mesh = SubResource( 4 )
material/0 = ExtResource( 4 )
